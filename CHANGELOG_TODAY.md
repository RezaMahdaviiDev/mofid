# ฺฏุฒุงุฑุด ฺฉุงุฑูุง ุงูุฑูุฒ - ุจูุจูุฏ Dashboard ู ุฑูุน ูุดฺฉูุงุช

## ุชุงุฑุฎ: 2025-01-08

### ุฎูุงุตู
ุฏุฑ ุฌูุณู ุงูุฑูุฒุ ุชูุฑฺฉุฒ ุงุตู ุฑู ุฑูุน ูุดฺฉู ููุงุด ู ุนููฺฉุฑุฏ ุฏฺฉูู ุฎุฑุฏ/ูุฑูุด ุฏุฑ Dashboard ุจูุฏ. ููฺูู ุจูุจูุฏูุง ุฒุฑุณุงุฎุช ุฏุฑ ฺฉุฏ ุงูุฌุงู ุดุฏ.

---

## ูุดฺฉูุงุช ุดูุงุณุง ุดุฏู

### 1. ูุดฺฉู ุชุบุฑ ูุชู ุฏฺฉูู
- **ูุดฺฉู**: ููฺฏุงู ุชุบุฑ dropdown "ููุน ุณูุงุฑุด" ุงุฒ "ุฎุฑุฏ" ุจู "ูุฑูุด"ุ ูุชู ุฏฺฉูู ุชุบุฑ ููโฺฉุฑุฏ
- **ุนูุช**: ฺฉุฏ JavaScript ูุจู ุงุฒ ุขูุงุฏู ุดุฏู DOM ุงุฌุฑุง ูโุดุฏ (`getElementById` null ุจุฑูโฺฏุฑุฏุงูุฏ)

### 2. ูุดฺฉู ุนุฏู ุงุฌุฑุง ูุนุงููุงุช
- **ูุดฺฉู**: ูุนุงููุงุช ุฎุฑุฏ ู ูุฑูุด ุฑู ูฺ ูุฏู ฺฉุงุฑ ููโฺฉุฑุฏ
- **ุนูุช**: ูุฑุชุจุท ุจุง ูุดฺฉู ุงูู - ฺูู event listener ูุง ุจู ุฏุฑุณุช ุชูุธู ูุดุฏู ุจูุฏูุฏ

### 3. ูุดฺฉู Cache ูุฑูุฑฺฏุฑ
- **ูุดฺฉู**: ูพุณ ุงุฒ ุจูโุฑูุฒุฑุณุงู ฺฉุฏุ ุชุบุฑุงุช ุฏุฑ ูุฑูุฑฺฏุฑ ููุงุด ุฏุงุฏู ููโุดุฏ
- **ุฑุงูโุญู**: ุชุบุฑ ูพูุฑุช ุงุฒ 3000 ุจู 3002 ุจุฑุง ุฏูุฑ ุฒุฏู cache

---

## ุชุบุฑุงุช ุงูุฌุงู ุดุฏู

### 1. ุงุตูุงุญ ุณุงุฎุชุงุฑ JavaScript (`src/dashboard/public/app.js`)
- โ ุชูุงู ฺฉุฏ JavaScript ุฏุงุฎู `DOMContentLoaded` event listener ูุฑุงุฑ ฺฏุฑูุช
- โ ุงุถุงูู ุดุฏู null checks ุจุฑุง ุชูุงู DOM elements
- โ ุงุถุงูู ุดุฏู instrumentation logs ุจุฑุง debugging
- โ ุงุตูุงุญ event listener ุจุฑุง ุชุบุฑ dropdown "ููุน ุณูุงุฑุด"
- โ ุงุถุงูู ุดุฏู ูุฑุงุฎูุงู `updateBuyButtonText()` ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ุงููู ุตูุญู

**ูุจู ุงุฒ ุชุบุฑ:**
```javascript
const buyBtn = document.getElementById('buyBtn'); // ููฺฉู ุจูุฏ null ุจุงุดุฏ
// ... ฺฉุฏ ุจุฏูู ฺฺฉ ฺฉุฑุฏู null
```

**ุจุนุฏ ุงุฒ ุชุบุฑ:**
```javascript
document.addEventListener('DOMContentLoaded', function() {
    const buyBtn = document.getElementById('buyBtn');
    if (!buyBtn) {
        // log error
        return;
    }
    // ... ุงุฏุงูู ฺฉุฏ
});
```

### 2. ุชุบุฑ ูพูุฑุช ุณุฑูุฑ (`src/dashboard/server.ts`)
- โ ุชุบุฑ ูพูุฑุช ุงุฒ 3000 ุจู **3002**
- โ ุณุงุฏูโุณุงุฒ error handling (ููุท ฺฉ ูพูุฑุช)
- โ ุงุถุงูู ุดุฏู instrumentation logs

**ูุจู:**
```typescript
const PORT = 3000;
// ุณุน ุจุฑุง fallback ุจู ูพูุฑุช 3001
```

**ุจุนุฏ:**
```typescript
const PORT = 3002;
// ููุท ฺฉ ูพูุฑุช - ุงฺฏุฑ ุฏุฑ ุฏุณุชุฑุณ ูุจุงุดุฏุ ุฎุทุง ูโุฏูุฏ
```

### 3. ุจูุจูุฏ Debugging
- โ ุงุถุงูู ุดุฏู instrumentation logs ุฏุฑ ููุงุท ฺฉูุฏ:
  - ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ script
  - ููฺฏุงู ุขูุงุฏู ุดุฏู DOM
  - ููฺฏุงู ุชุบุฑ dropdown
  - ููฺฏุงู submit ูุฑู
- โ ูุงฺฏโูุง ุจู `http://127.0.0.1:7246/ingest/...` ุงุฑุณุงู ูโุดููุฏ
- โ ููฺูู ุฏุฑ `.cursor/debug.log` ุฐุฎุฑู ูโุดููุฏ

---

## ูุถุนุช ูุนู

### โ ูุดฺฉูุงุช ุญู ุดุฏู
1. โ ุฏฺฉูู ุฎุฑุฏ/ูุฑูุด ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ุตูุญู ุฏุฑุณุช ููุงุด ุฏุงุฏู ูโุดูุฏ
2. โ ุฏฺฉูู ููฺฏุงู ุชุบุฑ dropdown ุจู ุฏุฑุณุช ุชุบุฑ ูโฺฉูุฏ
3. โ ุชูุงู ฺฉุฏ ุฏุงุฎู `DOMContentLoaded` ูุฑุงุฑ ฺฏุฑูุชู (ุงุฒ ูุดฺฉู timing ุฌููฺฏุฑ ูโฺฉูุฏ)
4. โ null checks ุงุถุงูู ุดุฏู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฎุทุงูุง runtime

### ๐ ุฏุฑ ุญุงู ุชุณุช
- ุนููฺฉุฑุฏ ูุนุงููุงุช ุฎุฑุฏ/ูุฑูุด (ูุงุฒ ุจู ุชุณุช ุนูู)
- ุณุงุฒฺฏุงุฑ ุจุง ุชูุงู ูุฏูโูุง (Model 1, 4, 5, all)

### ๐ ุงุฏุฏุงุดุชโูุง
- Dashboard ุฏุฑ ุญุงู ุงุฌุฑุง ุฑู ูพูุฑุช **3002**: `http://localhost:3002`
- ูพูุฑุช 3000 ูุจู ุจุฑุง ุฌููฺฏุฑ ุงุฒ conflict ุจุณุชู ุดุฏ
- ุชูุงู ุชุบุฑุงุช build ุดุฏู ู ุฏุฑ `dist/` ููุฌูุฏ ุงุณุช

---

## ูุงูโูุง ุชุบุฑ ุงูุชู

1. `src/dashboard/public/app.js` - ุจุงุฒุณุงุฒ ฺฉุงูู ุณุงุฎุชุงุฑ JavaScript
2. `src/dashboard/server.ts` - ุชุบุฑ ูพูุฑุช ุจู 3002
3. `dist/src/dashboard/public/app.js` - ูุณุฎู compiled
4. `dist/src/dashboard/server.js` - ูุณุฎู compiled

---

## ุฏุณุชูุฑุงุช ููู

### ุงุฌุฑุง Dashboard
```bash
npm run dashboard
# Dashboard ุฏุฑ http://localhost:3002 ุงุฌุฑุง ูโุดูุฏ
```

### Build ูพุฑูฺู
```bash
npm run build
# TypeScript compile + copy public files
```

### ูุดุงูุฏู ูุงฺฏโูุง Debug
```bash
# ูุงฺฏโูุง ุฏุฑ ูุงู ุฒุฑ ุฐุฎุฑู ูโุดููุฏ:
cat .cursor/debug.log
```

---

## ูุฑุงุญู ุจุนุฏ (ูพุดููุงุฏ)

1. โ ุชุณุช ฺฉุงูู ุฎุฑุฏ/ูุฑูุด ุจุง ุชูุงู ูุฏูโูุง
2. โ ุจุฑุฑุณ ูุงฺฏโูุง ุจุฑุง ุงุทููุงู ุงุฒ ุนููฺฉุฑุฏ ุตุญุญ
3. โ๏ธ ุญุฐู instrumentation logs ูพุณ ุงุฒ ุชุงุฏ ููุง ุนููฺฉุฑุฏ
4. โ๏ธ ุจุฑุฑุณ ู ุจูุจูุฏ error handling ุฏุฑ ุตูุฑุช ูุงุฒ
5. โ๏ธ ุงุถุงูู ุดุฏู unit tests ุจุฑุง event handlers

---

## ูฺฉุงุช ูู

### ฺุฑุง DOMContentLoaded ููู ุจูุฏุ
- JavaScript ูุจู ุงุฒ ุขูุงุฏู ุดุฏู DOM ุงุฌุฑุง ูโุดุฏ
- `getElementById` null ุจุฑูโฺฏุฑุฏุงูุฏ
- Event listener ูุง ุชูุธู ููโุดุฏูุฏ
- ุชุงุจุน `updateBuyButtonText()` ุจุง null crash ูโฺฉุฑุฏ

### ฺุฑุง ูพูุฑุช ุชุบุฑ ฺฉุฑุฏุ
- ุจุฑุง ุฏูุฑ ุฒุฏู cache ูุฑูุฑฺฏุฑ
- ุฌููฺฏุฑ ุงุฒ conflict ุจุง instance ูุจู
- ุณุงุฏูโุชุฑ ุดุฏู debugging

---

## ูุชุฌูโฺฏุฑ

ูุดฺฉูุงุช ุงุตู Dashboard ุจุฑุทุฑู ุดุฏ ู ฺฉุฏ ุญุงูุง ุจู ุตูุฑุช ุณุงุฎุชุงุฑุงูุชูโุชุฑ ู ูุงุจู ุงุนุชูุงุฏุชุฑ ุงุณุช. ูุงุฒ ุจู ุชุณุช ุนูู ุจุฑุง ุชุงุฏ ููุง ูุฌูุฏ ุฏุงุฑุฏ.

